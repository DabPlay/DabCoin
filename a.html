<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DABOIN | DBN</title>
<link rel="icon" type="image/png" href="logo.png">
<style>
.footer-links {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
  margin-top: 40px;
}
@media (max-width: 900px) {
  .footer-links {
    grid-template-columns: 1fr;
  }
}

 @media (max-width: 768px) {
  iframe[src*="dexscreener"] {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    border-radius: 0;
  }
}

/* =========================
   COPY STYLE TOAST PRO
========================= */

.copy-toast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: rgba(17, 24, 39, 0.95);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  opacity: 0;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
  z-index: 999999;
  pointer-events: none;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}

/* Mostrar */
.copy-toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* Icono */
.toast-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #22c55e;
  color: white;
  font-size: 12px;
  transform: scale(0);
}

/* Animaci√≥n del check */
.copy-toast.show .toast-icon {
  animation: popCheck 0.4s ease forwards;
}

/* Animaci√≥n */
@keyframes popCheck {
  0% {
    transform: scale(0);
  }
  60% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}


 .footer {
  background: linear-gradient(180deg, #0c111b, #090f17);
  color: #cfd8e3;
  padding: 70px 20px 25px;
  border-top: 1px solid rgba(0,255,255,0.1);
}

.footer-container {   max-width: 1200px;   margin: auto;   display: grid;   grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));   gap: 40px; }
@media (max-width: 900px) {
  .footer-container {
    grid-template-columns: 1fr;
    gap: 40px;
    text-align: center;
  }
}


.footer-logo {
  font-size: 28px;
  color: #00e0ff;
  margin-bottom: 15px;
  text-shadow: 0 0 12px rgba(0,224,255,0.6);
}

.footer h3 {
  margin-bottom: 15px;
  color: #ffffff;
}

.footer ul {
  list-style: none;
  padding: 0;
}

.footer ul li {
  margin-bottom: 10px;
  color: #9fb3c8;
}

.footer a {
  color: #9fb3c8;
  text-decoration: none;
  transition: 0.3s;
}

.footer a:hover {
  color: #00e0ff;
  text-shadow: 0 0 8px rgba(0,224,255,0.6);
}

.contract-box {
  margin-top: 15px;
  display: inline-flex;
 width: fit-content;
 gap: 10px;
  align-items: center;
  background: #121a27;
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 13px;
}

.contract-box button {
  background: #00e0ff;
  border: none;
  padding: 5px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
}

.contract-box button:hover {
  background: #00b5cc;
}

.footer-disclaimer {
  margin-top: 50px;
  font-size: 13px;
  color: #6f8197;
  text-align: center;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.footer-bottom {
  margin-top: 20px;
  text-align: center;
  font-size: 12px;
  color: #5c6d82;
}



/* SECCION */
.ecosystem {

  text-align: center;
}

/* TITULO */
.eco-title {
  font-size: 28px;
  font-weight: 700;
  color: #ffffff;
  margin-bottom: 10px;
}

/* SUBTITULO */
.eco-subtitle {
  font-size: 15px;
  color: #9fb3c8;
  max-width: 500px;
  margin: 0 auto 40px auto;
}

/* GRID */
.eco-grid {
  display: grid;
  gap: 20px;
}

/* MOVIL */
@media (max-width: 768px) {
  .eco-grid {
    grid-template-columns: 1fr;
  }
}

/* DESKTOP */
@media (min-width: 769px) {
  .eco-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* CARDS */
.eco-card {
  background: linear-gradient(145deg, #162233, #1b2a3a);
  padding: 25px 20px;
  border-radius: 18px;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 0 0 1px rgba(255,255,255,0.03);
  transition: 0.3s ease;
}

/* HOVER */
.eco-card:hover {
  transform: translateY(-5px);
  box-shadow: 
    0 8px 20px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(0, 150, 255, 0.2);
}

/* ICONO */
.eco-icon {
  font-size: 32px;
  margin-bottom: 12px;
}

/* TITULO CARD */
.eco-card h3 {
  color: #ffffff;
  font-size: 18px;
  margin-bottom: 10px;
}

/* TEXTO CARD */
.eco-card p {
  color: #9fb3c8;
  font-size: 14px;
  line-height: 1.5;
}


.btn img {
  width: 30px;
}

/* Fondo oscuro */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 10, 20, 0.85);
  backdrop-filter: blur(6px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Caja central */
.modal-content {
  background: linear-gradient(145deg, #0f1723, #0b111b);
  padding: 35px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  color: #e6f0ff;
  box-shadow: 0 0 30px rgba(0, 224, 255, 0.15);
  border: 1px solid rgba(0, 224, 255, 0.15);
  animation: fadeIn 0.3s ease;
}

/* T√≠tulo */
.modal-content h3 {
  margin-bottom: 15px;
  font-size: 20px;
  color: #00e0ff;
  text-shadow: 0 0 8px rgba(0,224,255,0.5);
}

/* Texto */
.modal-content p {
  font-size: 14px;
  margin-bottom: 25px;
  color: #9fb3c8;
}

/* Bot√≥n instalar */
.install-btn {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 8px;
  background: #00e0ff;
  color: #000;
  font-weight: 600;
  text-decoration: none;
  transition: 0.3s ease;
}

.install-btn:hover {
  background: #00bcd4;
  box-shadow: 0 0 12px rgba(0,224,255,0.6);
}

/* Bot√≥n cerrar */
.close-btn {
  display: block;
  margin: 15px auto 0;
  background: transparent;
  border: 1px solid #00e0ff;
  color: #00e0ff;
  padding: 8px 18px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s ease;
}

.close-btn:hover {
  background: #00e0ff;
  color: #000;
}

/* Animaci√≥n */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}


.wallet-icon {
  position: absolute;
  right: 30px;
  top: 50%;
  transform: translateY(-50%);
 width: 30px;
 cursor: pointer;
}
/* Fondo oscuro */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 10, 20, 0.85);
  backdrop-filter: blur(6px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* Caja central */
.modal-content {
  background: linear-gradient(145deg, #0f1723, #0b111b);
  padding: 35px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  color: #e6f0ff;
  box-shadow: 0 0 30px rgba(0, 224, 255, 0.15);
  border: 1px solid rgba(0, 224, 255, 0.15);
  animation: fadeIn 0.3s ease;
}

/* T√≠tulo */
.modal-content h3 {
  margin-bottom: 15px;
  font-size: 20px;
  color: #00e0ff;
  text-shadow: 0 0 8px rgba(0,224,255,0.5);
}

/* Texto */
.modal-content p {
  font-size: 14px;
  margin-bottom: 25px;
  color: #9fb3c8;
}

/* Bot√≥n instalar */
.install-btn {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 8px;
  background: #00e0ff;
  color: #000;
  font-weight: 600;
  text-decoration: none;
  transition: 0.3s ease;
}

.install-btn:hover {
  background: #00bcd4;
  box-shadow: 0 0 12px rgba(0,224,255,0.6);
}

/* Bot√≥n cerrar */
.close-btn {
  display: block;
  margin: 15px auto 0;
  background: transparent;
  border: 1px solid #00e0ff;
  color: #00e0ff;
  padding: 8px 18px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s ease;
}

.close-btn:hover {
  background: #00e0ff;
  color: #000;
}

/* Animaci√≥n */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}






/* BLOQUEAR SCROLL */
body.loading {
  overflow: hidden;
}

#loader-overlay {
  position: fixed;
  inset: 0;
  background: #000; /* o tu fondo */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  opacity: 1;
  transition: opacity 0.6s ease;
}

#loader-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}


/* SPINNER */
.loader {
  width: clamp(50px, 8vw, 80px);
  padding: 8px;
  aspect-ratio: 1;
  border-radius: 50%;
  background: #257db0;

  --_m: 
    conic-gradient(#0000 10%, #000),
    linear-gradient(#000 0 0) content-box;

  -webkit-mask: var(--_m);
  mask: var(--_m);
  -webkit-mask-composite: source-out;
  mask-composite: subtract;

  animation: spin 1s infinite linear;
}

/* ANIMACI√ìN */
@keyframes spin {
  to { transform: rotate(1turn); }
}



/* CONTENEDOR */
.stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  padding: 16px;
}

/* TARJETAS */
.stat-card {
  background: linear-gradient(145deg, #1b2a3a, #162233);
  border-radius: 18px;
  padding: 10px 10px;
  text-align: center;
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.4),
    inset 0 0 0 1px rgba(255,255,255,0.03);
  transition: 0.3s ease;

}

/* TITULO */
.stat-card h3 {
  font-size: 14px;
  font-weight: 500;
  color: #9fb3c8;
  margin-bottom: 8px;
}

/* VALOR */
.stat-card p {
  font-size: 26px;
  font-weight: 700;
  color: #ffffff;
  margin: 0;
}

/* EFECTO HOVER (desktop) */
.stat-card:hover {
  transform: translateY(-3px);
}


.btn-primary{
padding:14px 28px;
border-radius:12px;
background:linear-gradient(90deg,#00c6ff,#0072ff);
color:white;
text-decoration:none;
font-weight:600;
transition:0.3s;
display:inline-block;
}

.btn-primary:hover{
transform:scale(1.05);
box-shadow:0 0 25px rgba(0,198,255,0.6);
}

.btn{
display:inline-flex;
align-items:center;
justify-content:center;

color:#cbd5e1;
text-decoration:none;
font-weight:500;
font-size:14px;

padding:10px 18px;

border-radius:10px;
background:rgba(255,255,255,0.05);
border:1px solid rgba(255,255,255,0.1);

transition:all 0.3s ease;

white-space:nowrap;

cursor:pointer;

width:auto;
max-width:100%;
box-sizing:border-box;
}
@media(max-width:600px){

.btn{
width:100%;
padding:12px;
font-size:15px;
}

}

    .btn-primary{
background:linear-gradient(90deg,#00c6ff,#0072ff);
color:white;
border:none;
}

.btn-primary:hover{
transform:scale(1.05);
box-shadow:0 0 20px rgba(0,198,255,0.6);
}

.btn:hover {
  background: rgba(49, 126, 252, 0.15);
  color: #ffffff;
}
/* HEADER */ 
.site-header { 
  position: fixed; 
  top: 0; 
  width: 100%;
   z-index: 1000; 
   background: rgba(8, 15, 25, 0.6); 
   backdrop-filter: blur(5px); 
   -webkit-backdrop-filter: blur(5px); 
   padding: 0 40px;
    left: 0;
  right: 0;            
  z-index: 1000;
  box-sizing: border-box; 
 } 
 


   /* CONTENEDOR FLEX */ 
 .header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 70px;
  padding: 0 20px;
}

  
  /* LOGO */ 
  .logo { 
    font-size: 20px; 
    font-weight: 600; 
    color: #e6f1ff; 
    margin-right: auto; 
    text-shadow: 0 0 6px rgba(59,130,246,0.4), 0 0 12px rgba(59,130,246,0.2); 
  }
  
  /* BOT√ìN */
.signin-btn { 
  color: #cbd5e1; 
  text-decoration: none; 
  font-weight: 500; 
  padding: 8px 16px; 
  border-radius: 8px; 
  transition: all 0.3s ease; 
  white-space: nowrap;

  margin-left: auto; 
}
@media (max-width: 768px){

  .header-container{
    padding: 0 15px;
  }

  .signin-btn{
    padding: 6px 12px;
    font-size: 14px;
  }

}

   .signin-btn:hover 
   { background: rgba(59,130,246,0.15); 
    color: #ffffff; 
  }

/* L√çNEA INFERIOR */
.divider {
  position:absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(14,165,233,0.5),
    transparent
  );
  background-size: 200% 100%;
  animation: shimmer 4s infinite linear;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}





.section h2{
margin-bottom:30px;
font-size:28px;
}

.fade-in{
opacity:0;
transform:translateY(20px);
transition:all 0.8s ease;
}

.fade-in.visible{
opacity:1;
transform:translateY(0);
}

body{
margin:0;
font-family: 'Segoe UI', Arial, sans-serif;
background: radial-gradient(circle at top left, #0f3b52 0%, #031018 40%, #000 100%);
color:white;
overflow-x:hidden;
  padding-top: 70px;
}

header{
display:flex;
justify-content:space-between;
align-items:center;
padding:20px 40px;
font-size:18px;

}

header .brand{
display:flex;
align-items:center;
gap:10px;
font-weight:600;
opacity:0.9;

}

header a{
color:white;
text-decoration:none;
opacity:0.7;
}

.hero{
padding:120px 40px 80px;
}

.hero h1{
font-size:60px;
line-height:1;
margin:0;
background:linear-gradient(to bottom, #ffffff, #8f9aa7);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.section{
padding:40px;
}

.card{
background:rgba(255,255,255,0.04);
backdrop-filter:blur(20px);
padding:30px;
border-radius:20px;
margin-right: auto;
width:100%;
max-width:350px;

box-sizing:border-box;

box-shadow:0 0 40px rgba(0,180,255,0.15);
transition:0.4s;
}


.card:hover{
transform:translateY();
box-shadow:0 0 60px rgba(0,180,255,0.35);
}
.market-section{
display:flex;
gap:40px;
flex-wrap:wrap;
justify-content:center;
}
@media(max-width:600px){
.card{
padding:20px;
}
}

.card h3{
margin-top:0;
}

.card p{
color:#9ca3af;
}

.button{
display:inline-block;
margin-top:20px;
padding:12px 20px;
border-radius:10px;
background:linear-gradient(90deg,#00c6ff,#0072ff);
color:white;
text-decoration:none;
font-weight:600;
transition:0.3s;
}

.button:hover{
transform:scale(1.05);
}

.market-section{
display:flex;
gap:60px;
flex-wrap:wrap;
}

.price-box{
margin-top:40px;
font-size:28px;
color:#00c6ff;
}

@media(max-width:900px){

.hero h1{
font-size:50px;
}

.market-section{
flex-direction:column;
}

}
#live-status{
font-size:12px;
color:#00ff88;
margin-top:5px;
animation:pulse 1.5s infinite;
}

@keyframes pulse{
0%{opacity:0.4}
50%{opacity:1}
100%{opacity:0.4}
}
svg {
    margin: 0 auto;
    width: 25px;
    height: 25px;
} 

/* =========================
   SWAP COMPONENT STYLES
========================= */
.swap-section {
  max-width: 480px;
  margin: 0 auto 60px auto;
  padding: 0 20px;
}

.swap-container {
  background: linear-gradient(145deg, #162233, #1b2a3a);
  border-radius: 24px;
  padding: 30px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 0 0 1px rgba(255,255,255,0.05);
  border: 1px solid rgba(0, 224, 255, 0.1);
}

.swap-header {
  text-align: center;
  margin-bottom: 25px;
}

.swap-header h2 {
  font-size: 24px;
  font-weight: 700;
  color: #ffffff;
  margin: 0 0 8px 0;
  background: linear-gradient(90deg, #00c6ff, #00e0ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.swap-header p {
  font-size: 14px;
  color: #9fb3c8;
  margin: 0;
}

/* Wallet Connection */
.wallet-connect {
  text-align: center;
  padding: 40px 20px;
}

.wallet-btn-large {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 16px 32px;
  background: linear-gradient(90deg, #00c6ff, #0072ff);
  color: white;
  border: none;
  border-radius: 16px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 20px rgba(0, 198, 255, 0.3);
}

.wallet-btn-large:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(0, 198, 255, 0.5);
}

.wallet-btn-large svg {
  width: 24px;
  height: 24px;
}

.wallet-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(0, 0, 0, 0.3);
  padding: 12px 16px;
  border-radius: 12px;
  margin-bottom: 20px;
  border: 1px solid rgba(0, 224, 255, 0.1);
}

.wallet-address {
  font-family: 'Courier New', monospace;
  font-size: 14px;
  color: #00e0ff;
}

.disconnect-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #9fb3c8;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.disconnect-btn:hover {
  background: rgba(255, 71, 87, 0.2);
  border-color: rgba(255, 71, 87, 0.4);
  color: #ff4757;
}

/* Swap Interface */
.swap-interface {
  display: none;
}

.swap-interface.active {
  display: block;
}

.swap-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 20px;
  background: rgba(0, 0, 0, 0.3);
  padding: 4px;
  border-radius: 12px;
}

.swap-tab {
  flex: 1;
  padding: 12px;
  background: transparent;
  border: none;
  color: #9fb3c8;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.3s ease;
}

.swap-tab.active {
  background: linear-gradient(90deg, #00c6ff, #0072ff);
  color: white;
}

.swap-tab:hover:not(.active) {
  color: #ffffff;
  background: rgba(255, 255, 255, 0.05);
}

/* Input Groups */
.input-group {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 12px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  transition: all 0.3s ease;
}

.input-group:focus-within {
  border-color: rgba(0, 224, 255, 0.3);
  box-shadow: 0 0 20px rgba(0, 198, 255, 0.1);
}

.input-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.input-label {
  font-size: 12px;
  color: #9fb3c8;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.balance-display {
  font-size: 12px;
  color: #6f8197;
}

.input-row {
  display: flex;
  align-items: center;
  gap: 12px;
}

.token-selector {
  display: flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 255, 255, 0.1);
  padding: 8px 12px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 100px;
}

.token-selector:hover {
  background: rgba(255, 255, 255, 0.15);
}

.token-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #00c6ff, #0072ff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
}

.token-symbol {
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
}

.amount-input {
  flex: 1;
  background: transparent;
  border: none;
  color: #ffffff;
  font-size: 24px;
  font-weight: 600;
  text-align: right;
  outline: none;
  width: 100%;
}

.amount-input::placeholder {
  color: #4a5568;
}

/* Swap Arrow */
.swap-arrow-container {
  display: flex;
  justify-content: center;
  margin: -6px 0;
  position: relative;
  z-index: 2;
}

.swap-arrow-btn {
  width: 40px;
  height: 40px;
  background: linear-gradient(145deg, #1b2a3a, #162233);
  border: 2px solid rgba(0, 224, 255, 0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  color: #00e0ff;
}

.swap-arrow-btn:hover {
  transform: rotate(180deg);
  border-color: #00e0ff;
  box-shadow: 0 0 20px rgba(0, 224, 255, 0.3);
}

.swap-arrow-btn svg {
  width: 20px;
  height: 20px;
}

/* Swap Details */
.swap-details {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  padding: 16px;
  margin: 16px 0;
  font-size: 13px;
}

.detail-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  color: #9fb3c8;
}

.detail-row:last-child {
  margin-bottom: 0;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  color: #ffffff;
  font-weight: 600;
}

/* Action Button */
.swap-action-btn {
  width: 100%;
  padding: 16px;
  background: linear-gradient(90deg, #00c6ff, #0072ff);
  border: none;
  border-radius: 16px;
  color: white;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 8px;
  box-shadow: 0 4px 20px rgba(0, 198, 255, 0.3);
}

.swap-action-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(0, 198, 255, 0.5);
}

.swap-action-btn:disabled {
  background: #2d3748;
  color: #718096;
  cursor: not-allowed;
  box-shadow: none;
}

/* Approval Section */
.approval-section {
  display: none;
  background: rgba(255, 193, 7, 0.1);
  border: 1px solid rgba(255, 193, 7, 0.3);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  text-align: center;
}

.approval-section.active {
  display: block;
}

.approval-text {
  font-size: 13px;
  color: #ffc107;
  margin-bottom: 12px;
}

.approve-btn {
  background: linear-gradient(90deg, #ffc107, #ff9800);
  color: #000;
  border: none;
  padding: 10px 24px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.approve-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 15px rgba(255, 193, 7, 0.4);
}

/* Loading State */
.swap-loading {
  display: none;
  text-align: center;
  padding: 40px;
}

.swap-loading.active {
  display: block;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  border: 3px solid rgba(0, 198, 255, 0.1);
  border-top-color: #00c6ff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 16px;
}

.loading-text {
  color: #9fb3c8;
  font-size: 14px;
}

/* Transaction Success */
.tx-success {
  display: none;
  text-align: center;
  padding: 30px;
}

.tx-success.active {
  display: block;
}

.success-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #00ff88, #00c6ff);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  animation: scaleIn 0.5s ease;
}

.success-icon svg {
  width: 30px;
  height: 30px;
  color: white;
}

@keyframes scaleIn {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.tx-hash {
  font-family: 'Courier New', monospace;
  font-size: 12px;
  color: #00e0ff;
  background: rgba(0, 0, 0, 0.3);
  padding: 8px 12px;
  border-radius: 8px;
  margin: 16px 0;
  word-break: break-all;
}

.view-tx-btn {
  display: inline-block;
  padding: 10px 20px;
  background: rgba(0, 224, 255, 0.1);
  border: 1px solid #00e0ff;
  color: #00e0ff;
  text-decoration: none;
  border-radius: 10px;
  font-size: 13px;
  transition: all 0.3s ease;
}

.view-tx-btn:hover {
  background: #00e0ff;
  color: #000;
}

.new-swap-btn {
  margin-top: 12px;
  background: transparent;
  border: none;
  color: #9fb3c8;
  font-size: 13px;
  cursor: pointer;
  text-decoration: underline;
}

/* Error Message */
.error-message {
  display: none;
  background: rgba(255, 71, 87, 0.1);
  border: 1px solid rgba(255, 71, 87, 0.3);
  color: #ff4757;
  padding: 12px;
  border-radius: 10px;
  font-size: 13px;
  margin-top: 12px;
  text-align: center;
}

.error-message.active {
  display: block;
}

/* Slippage Settings */
.slippage-settings {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  margin-bottom: 16px;
  font-size: 12px;
  color: #9fb3c8;
}

.slippage-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #9fb3c8;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.slippage-btn.active {
  background: rgba(0, 198, 255, 0.2);
  border-color: #00c6ff;
  color: #00c6ff;
}

/* GameSwap Badge */
.gameswap-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: linear-gradient(90deg, #ff6b6b, #feca57);
  color: #000;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 700;
  margin-bottom: 15px;
}

.gameswap-badge::before {
  content: "üéÆ";
}

/* Responsive */
@media (max-width: 600px) {
  .swap-container {
    padding: 20px;
  }
  
  .amount-input {
    font-size: 20px;
  }
  
  .token-selector {
    min-width: 80px;
    padding: 6px 10px;
  }
  
  .token-icon {
    width: 24px;
    height: 24px;
    font-size: 10px;
  }
}
</style>
<base target="_blank">
</head>

<body>
<header class="site-header">
<div class="header-container">
  <div class="logo">
    ü¶â DABOIN
  </div>
</div>
  <button id="addMetaMask" class="wallet-btn" onclick="addToMetaMask()">
    <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" class="wallet-icon">
  </button>
</div>





    <div id="metamaskModal" style="display:none;" class="modal">
  <div class="modal-content">
    <h3>MetaMask not detected</h3>
    <p>Install MetaMask to add DAB to your wallet.</p>

    <a href="https://metamask.io/download/" target="_blank" class="install-btn">
      Install MetaMask
    </a>

    <button onclick="closeModal()" class="close-btn">
      Close
    </button>
  </div>
</div>





  </div>
  <div class="divider"></div>
</header>


<section class="hero">

<h1>DABOIN (DBN)</h1>
<div class="price-container">
  <span class="price-box loading" id="price-bnb"></span>
  <div>
  <span id="price-usdt" class="loading"></span>
</div>
  

</div>
  <div>
  <div id="live-status">‚óè LIVE</div>
</div>
<p class="subtitle">
  Community-driven token on BNB Chain.
  Built for transparency and long-term holders.
</p>

<div class="hero-buttons">
  <a href="https://pancakeswap.finance/swap?outputCurrency=0x4E11b900c94b2ab9155330B2052827Ab74d183c5&chainId=56" target="_blank"  class="btn">Trade on PancakeSwap</a>
  <a href="https://bscscan.com/token/0x4e11b900c94b2ab9155330b2052827ab74d183c5" target="_blank" class="btn">View on BSCScan</a>
</div>


<div class="stats">


<div class="stat-card">
<h3>Market Cap</h3>
<p id="marketcap"></p>
</div>
<div class="stat-card">
<h3>Liquidity</h3>
<p id="liquidity"></p>
</div>

<div class="stat-card">
<h3>24h Volume</h3>
<p id="volume">0</p>
</div>

<div class="stat-card">
<h3>Holders</h3>
<p id="holders">0</p>
</div>

  <div class="stat-card">
<h3>Tax</h3>
<p id="tax">5%</p>
  </div>
    
<div class="stat-card">
<h3>Pair Age</h3>
<p id="pair-age"></p>
</div>


</section>

<!-- SWAP SECTION - GAMESWAP -->
<section class="section swap-section">
  <div class="swap-container">
    <div class="swap-header">
      <div class="gameswap-badge">Powered by GameSwap</div>
      <h2>Swap Tokens</h2>
      <p>Trade DBN and DAB instantly</p>
    </div>

    <!-- Wallet Not Connected -->
    <div id="walletConnect" class="wallet-connect">
      <button class="wallet-btn-large" onclick="connectWallet()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 7h-1V6a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3z"></path>
          <line x1="16" y1="11" x2="16" y2="11"></line>
        </svg>
        Connect Wallet
      </button>
    </div>

    <!-- Wallet Connected -->
    <div id="swapInterface" class="swap-interface">
      <div class="wallet-info">
        <span id="connectedAddress" class="wallet-address">0x...</span>
        <button class="disconnect-btn" onclick="disconnectWallet()">Disconnect</button>
      </div>

      <!-- Tabs -->
      <div class="swap-tabs">
        <button class="swap-tab active" onclick="setSwapMode('buy')">Buy DBN</button>
        <button class="swap-tab" onclick="setSwapMode('convert')">DBN ‚Üî DAB</button>
      </div>

      <!-- Slippage Settings -->
      <div class="slippage-settings">
        <span>Slippage:</span>
        <button class="slippage-btn active" onclick="setSlippage(0.5)">0.5%</button>
        <button class="slippage-btn" onclick="setSlippage(1)">1%</button>
        <button class="slippage-btn" onclick="setSlippage(2)">2%</button>
      </div>

      <!-- Buy DBN with USDT -->
      <div id="buyPanel">
        <div class="input-group">
          <div class="input-header">
            <span class="input-label">From</span>
            <span class="balance-display">Balance: <span id="usdtBalance">0.00</span> USDT</span>
          </div>
          <div class="input-row">
            <div class="token-selector">
              <div class="token-icon" style="background: linear-gradient(135deg, #26a17b, #2eb872);">USDT</div>
              <span class="token-symbol">USDT</span>
            </div>
            <input type="number" id="usdtAmount" class="amount-input" placeholder="0.0" oninput="calculateOutput()">
          </div>
        </div>

        <div class="swap-arrow-container">
          <div class="swap-arrow-btn" onclick="switchTokens()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <polyline points="19 12 12 19 5 12"></polyline>
            </svg>
          </div>
        </div>

        <div class="input-group">
          <div class="input-header">
            <span class="input-label">To</span>
            <span class="balance-display">Balance: <span id="dbnBalance">0.00</span> DBN</span>
          </div>
          <div class="input-row">
            <div class="token-selector">
              <div class="token-icon" style="background: linear-gradient(135deg, #00c6ff, #0072ff);">DBN</div>
              <span class="token-symbol">DBN</span>
            </div>
            <input type="number" id="dbnOutput" class="amount-input" placeholder="0.0" readonly>
          </div>
        </div>
      </div>

      <!-- Convert DBN ‚Üî DAB -->
      <div id="convertPanel" style="display: none;">
        <div class="input-group">
          <div class="input-header">
            <span class="input-label">From</span>
            <span class="balance-display">Balance: <span id="fromTokenBalance">0.00</span> <span id="fromTokenSymbol">DBN</span></span>
          </div>
          <div class="input-row">
            <div class="token-selector" onclick="toggleConvertDirection()">
              <div class="token-icon" id="fromTokenIcon" style="background: linear-gradient(135deg, #00c6ff, #0072ff);">DBN</div>
              <span class="token-symbol" id="fromTokenSym">DBN</span>
            </div>
            <input type="number" id="convertAmount" class="amount-input" placeholder="0.0" oninput="calculateConvertOutput()">
          </div>
        </div>

        <div class="swap-arrow-container">
          <div class="swap-arrow-btn" onclick="toggleConvertDirection()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <polyline points="19 12 12 19 5 12"></polyline>
            </svg>
          </div>
        </div>

        <div class="input-group">
          <div class="input-header">
            <span class="input-label">To</span>
            <span class="balance-display">Balance: <span id="toTokenBalance">0.00</span> <span id="toTokenSymbol">DAB</span></span>
          </div>
          <div class="input-row">
            <div class="token-selector">
              <div class="token-icon" id="toTokenIcon" style="background: linear-gradient(135deg, #ff6b6b, #ee5a24);">DAB</div>
              <span class="token-symbol" id="toTokenSym">DAB</span>
            </div>
            <input type="number" id="convertOutput" class="amount-input" placeholder="0.0" readonly>
          </div>
        </div>
      </div>

      <!-- Swap Details -->
      <div class="swap-details">
        <div class="detail-row">
          <span>Exchange Rate</span>
          <span id="exchangeRate">1 USDT ‚âà 0 DBN</span>
        </div>
        <div class="detail-row">
          <span>Network Fee</span>
          <span>~$0.05</span>
        </div>
        <div class="detail-row">
          <span>Price Impact</span>
          <span id="priceImpact">&lt;0.01%</span>
        </div>
        <div class="detail-row">
          <span>Minimum Received</span>
          <span id="minReceived">0 DBN</span>
        </div>
      </div>

      <!-- Approval Section -->
      <div id="approvalSection" class="approval-section">
        <div class="approval-text">‚ö†Ô∏è Token approval required before swapping</div>
        <button class="approve-btn" onclick="approveToken()">Approve Token</button>
      </div>

      <!-- Error Message -->
      <div id="errorMessage" class="error-message"></div>

      <!-- Action Button -->
      <button id="swapActionBtn" class="swap-action-btn" onclick="executeSwap()">Enter an amount</button>
    </div>

    <!-- Loading State -->
    <div id="swapLoading" class="swap-loading">
      <div class="loading-spinner"></div>
      <div class="loading-text">Processing transaction...</div>
    </div>

    <!-- Success State -->
    <div id="txSuccess" class="tx-success">
      <div class="success-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      </div>
      <h3 style="color: #00ff88; margin: 0 0 8px 0;">Transaction Successful!</h3>
      <p style="color: #9fb3c8; font-size: 14px; margin: 0 0 16px 0;">Your swap has been completed via GameSwap</p>
      <div id="txHash" class="tx-hash">0x...</div>
      <a id="viewTxLink" href="#" target="_blank" class="view-tx-btn">View on BSCScan</a>
      <button class="new-swap-btn" onclick="resetSwap()">Make another swap</button>
    </div>
  </div>
</section>

<section class="section">

<h2>LIVE Chart </h2>

<iframe 
src="https://dexscreener.com/bsc/0x4E11b900c94b2ab9155330B2052827Ab74d183c5?embed=1&theme=dark"
width="100%"
height="600"
style="border:none;border-radius:12px;">
</iframe>

</section>

<section class="section">


<div class="market-section">

<section class="ecosystem">

  <h2 class="eco-title" >DAB Ecosystem Utility</h2>
  <p class="eco-subtitle">
    DAB powers a real digital ecosystem with practical use cases beyond trading.
  </p>

  <div class="eco-grid">

    <div class="eco-card">
      <div class="eco-icon"><svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
    <path fill="currentColor" d="M11.7 18q-2.4-.125-4.05-1.85T6 12q0-2.5 1.75-4.25T12 6q2.425 0 4.15 1.65T18 11.7l-2.1-.625q-.325-1.35-1.4-2.212T12 8q-1.65 0-2.825 1.175T8 12q0 1.425.863 2.5t2.212 1.4L11.7 18Zm.3 4q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12v.45q0 .225-.05.45L20 12.3V12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20h.3l.6 1.95q-.225.05-.45.05H12Zm8.175.15l-3.925-3.925l-.75 2.275q-.125.35-.475.338t-.475-.363L12.275 12.9q-.1-.275.125-.5t.5-.125l7.575 2.275q.35.125.363.475t-.338.475l-2.275.75l3.925 3.925q.15.15.15.35t-.15.35l-1.275 1.275q-.15.15-.35.15t-.35-.15Z"/>
</svg></div>
      <h3>PTC Platform</h3>
      <p>Earn DAB by engaging with ads and digital content. Users are rewarded for participation and activity.</p>
    </div>

    <div class="eco-card">
      <div class="eco-icon"><svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24">
    <path fill="currentColor" d="M12.15 16.15q.825 0 1.413-.387t.587-1.213q0-.725-.613-1.175T11.35 12.35q-1.475-.525-2.162-1.25T8.5 9.2q0-1.025.713-1.862T11.15 6.25v-.375q0-.35.263-.613T12.024 5q.35 0 .613.263t.262.612v.375q.725.05 1.338.488t.987 1.062q.175.275.025.588t-.5.437q-.325.125-.65.025t-.525-.375q-.25-.3-.625-.487t-.9-.188q-.875 0-1.338.375T10.25 9.2q0 .65.575 1.025t2.075.875q1.8.65 2.4 1.525t.6 1.925q0 .725-.25 1.275t-.663.938q-.412.387-.962.624t-1.175.363v.375q0 .35-.262.613t-.613.262q-.35 0-.612-.263t-.263-.612V17.7q-.95-.2-1.625-.75T8.4 15.55q-.15-.35.013-.675t.512-.45q.325-.125.65.012t.5.438q.35.65.888.962t1.187.313ZM12 23q-2.8 0-5.15-1.275T3 18.325V20q0 .425-.288.713T2 21q-.425 0-.713-.288T1 20v-4q0-.425.288-.713T2 15h4q.425 0 .713.288T7 16q0 .425-.288.713T6 17H4.525q1.2 1.8 3.163 2.9T12 21q3.525 0 6.063-2.35t2.887-5.775q.05-.4.35-.638T22 12q.425 0 .725.263t.25.637q-.175 2.125-1.1 3.962t-2.4 3.2q-1.475 1.363-3.388 2.15T12 23Zm0-20Q8.475 3 5.937 5.35T3.05 11.125q-.05.4-.35.638T2 12q-.425 0-.725-.263t-.25-.637q.175-2.125 1.1-3.962t2.4-3.2Q6 2.575 7.913 1.788T12 1q2.8 0 5.15 1.275t3.85 3.4V4q0-.425.288-.712T22 3q.425 0 .713.288T23 4v4q0 .425-.288.713T22 9h-4q-.425 0-.713-.288T17 8q0-.425.288-.713T18 7h1.475q-1.2-1.8-3.163-2.9T12 3Z"/>
</svg></div>
      <h3>Transfer Rewards</h3>
      <p>Receive DAB as cashback for using our COP ‚Üí VES remittance service platform.</p>
    </div>

    <div class="eco-card">
      <div class="eco-icon"><svg width="200" height="200" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path fill="currentColor" d="M4.725 20q-1.575 0-2.6-1.1Q1.1 17.8 1.05 16.325q0-.2.025-.45t.075-.45l2.1-8.4Q3.6 5.7 4.688 4.85Q5.775 4 7.125 4h9.75q1.35 0 2.437.85q1.088.85 1.438 2.175l2.1 8.4q.05.225.088.462q.037.238.037.463q0 1.5-1.062 2.575Q20.85 20 19.275 20q-1.05 0-1.95-.55q-.9-.55-1.35-1.5l-.7-1.45q-.125-.275-.362-.387q-.238-.113-.538-.113h-4.75q-.3 0-.537.113q-.238.112-.363.387l-.7 1.45q-.45.95-1.35 1.5q-.9.55-1.95.55Zm.075-2q.425 0 .813-.225q.387-.225.637-.7l.7-1.425q.375-.775 1.087-1.212Q8.75 14 9.625 14h4.75q.85 0 1.575.45t1.125 1.2l.7 1.425q.25.475.638.7q.387.225.812.225q.65 0 1.175-.45t.55-1.175v-.238q0-.112-.05-.237l-2.1-8.375q-.175-.675-.7-1.1Q17.575 6 16.875 6h-9.75q-.7 0-1.237.425q-.538.425-.688 1.1L3.1 15.9q-.05.15-.05.45q0 .725.55 1.188q.55.462 1.2.462Zm8.7-7q-.425 0-.712-.288q-.288-.287-.288-.712t.288-.713Q13.075 9 13.5 9t.713.287q.287.288.287.713t-.287.712Q13.925 11 13.5 11Zm2-2q-.425 0-.712-.288Q14.5 8.425 14.5 8t.288-.713Q15.075 7 15.5 7t.712.287q.288.288.288.713t-.288.712Q15.925 9 15.5 9Zm0 4q-.425 0-.712-.288q-.288-.287-.288-.712t.288-.713Q15.075 11 15.5 11t.712.287q.288.288.288.713t-.288.712Q15.925 13 15.5 13Zm2-2q-.425 0-.712-.288q-.288-.287-.288-.712t.288-.713Q17.075 9 17.5 9t.712.287q.288.288.288.713t-.288.712Q17.925 11 17.5 11Zm-9 1.5q-.3 0-.525-.225q-.225-.225-.225-.525v-1h-1q-.3 0-.525-.225Q6 10.3 6 10q0-.3.225-.525q.225-.225.525-.225h1v-1q0-.3.225-.525Q8.2 7.5 8.5 7.5q.3 0 .525.225q.225.225.225.525v1h1q.3 0 .525.225Q11 9.7 11 10q0 .3-.225.525q-.225.225-.525.225h-1v1q0 .3-.225.525q-.225.225-.525.225Z"/>
</svg></div>
      <h3> Web Game Economy</h3>
      <p>DAB will power our web game marketplace as the main in-game currency for assets and upgrades.</p>
    </div>

  </div>

</section>


</div>

</section>

<footer class="footer">

  <div class="footer-container">

    <!-- BRAND -->
    <div class="footer-col">
      <h2 class="footer-logo">DAB</h2>
      <p>
        Utility-driven token powering rewards, remittances and a web game economy.
      </p>

<div class="contract-box">
  <span id="contract"
        data-address="0x4E11b900c94b2ab9155330B2052827Ab74d183c5
">
    0x4E11.....83c5

  </span>

  <button onclick="copyContract()">Copy</button>
</div>


<div class="footer-links">
    <!-- TOKENOMICS -->
    <div class="footer-col">
      <h3>Tokenomics</h3>
      <ul>
        <li>Supply: 1,000,000,000</li>
        <li>Tax: 5%</li>
        <li>Liquidity Locked</li>
        <li>Community Driven</li>
      </ul>
    </div>

    <!-- ECOSYSTEM -->
    <div class="footer-col">
      <h3>Ecosystem</h3>
      <ul>
        <li>PTC Platform</li>
        <li>Transfer Cashback</li>
        <li>Web Game Market</li>
        <li>Staking (Soon)</li>
      </ul>
    </div>

    <!-- COMMUNITY -->
    <div class="footer-col">
      <h3>Community</h3>
      <div class="socials">
        <a href="#">Telegram</a>
        <a href="#">Twitter</a>
        <a href="#">Discord</a>
      </div>
    </div>
</div>
  </div>
  </div>
  <!-- Disclaimer -->
  <div class="footer-disclaimer">
    DAB is a utility token. Cryptocurrency investments carry risk.
    Always do your own research (DYOR).
  </div>

  <div class="footer-bottom">
    ¬© 2026 DAB Token. All rights reserved.
  </div>

</footer>

<template id="loader-template">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
    <circle fill="none" stroke-opacity="1" stroke="#0198CA" stroke-width=".5" cx="100" cy="100" r="0">
      <animate attributeName="r" calcMode="spline" dur="2.3" values="1;80" keyTimes="0;1" keySplines="0 .2 .5 1" repeatCount="indefinite">
      </animate>
      <animate attributeName="stroke-width" calcMode="spline" dur="2.3" values="0;25" keyTimes="0;1" keySplines="0 .2 .5 1" repeatCount="indefinite"></animate>
      <animate attributeName="stroke-opacity" calcMode="spline" dur="2.3" values="1;0" keyTimes="0;1" keySplines="0 .2 .5 1" repeatCount="indefinite"></animate>
    </circle></svg>
</template>


<div id="loader-overlay">
  <div class="loader"></div>
</div>
<script>
window.addEventListener("load", () => {
  const loader = document.getElementById("loader-overlay");

  // Peque√±o delay opcional para que no desaparezca instant√°neo
  const overlayDelay = 0; // ‚Üê ajusta aqu√≠ el tiempo en ms

  setTimeout(() => {
    loader.classList.add("hidden");

    // Lo removemos completamente despu√©s del fade
    setTimeout(() => {
      loader.style.display = "none";
    }, 600); // debe coincidir con el transition del CSS
  }, overlayDelay);
});


</script>




<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<script>
const provider = new ethers.providers.JsonRpcProvider(
  "https://bsc-dataseed.binance.org/"
);

// === CONFIG ===
const TOKEN_ADDRESS = "0x4E11b900c94b2ab9155330B2052827Ab74d183c5";
const TOKEN_WBNB_PAIR = "0xAA33a8BEf9e77df052b55582C5CE3432E6EBa2bC";

// PancakeSwap V2 Factory
const FACTORY = "0xca143ce32fe78f1f7019d7d551a6402fc5350c73";

// Tokens oficiales
const WBNB = "0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c";
const USDT = "0x55d398326f99059ff775485246999027b3197955";

// ABI m√≠nimos
const pairAbi = [
  "function getReserves() view returns (uint112,uint112,uint32)",
  "function token0() view returns (address)",
  "function token1() view returns (address)"
];

const factoryAbi = [
  "function getPair(address tokenA, address tokenB) view returns (address)"
];

async function getBNBPriceInUSDT() {

  const factory = new ethers.Contract(FACTORY, factoryAbi, provider);
  const pairAddress = await factory.getPair(WBNB, USDT);

  if (pairAddress === ethers.constants.AddressZero) {
    throw new Error("No existe LP WBNB/USDT");
  }

  const pair = new ethers.Contract(pairAddress, pairAbi, provider);
  const [reserve0, reserve1] = await pair.getReserves();
  const token0 = await pair.token0();

  let price;

  if (token0.toLowerCase() === WBNB.toLowerCase()) {
    price = reserve1 / reserve0;
  } else {
    price = reserve0 / reserve1;
  }

  return price;
}

async function getTokenPrice() {

  try {

    const pair = new ethers.Contract(TOKEN_WBNB_PAIR, pairAbi, provider);

    const [reserve0, reserve1] = await pair.getReserves();
    const token0 = await pair.token0();

    let tokenPriceInBNB;

    if (token0.toLowerCase() === TOKEN_ADDRESS.toLowerCase()) {
      tokenPriceInBNB = reserve1 / reserve0;
    } else {
      tokenPriceInBNB = reserve0 / reserve1;
    }

    const bnbPrice = await getBNBPriceInUSDT();
    const tokenPriceInUSDT = tokenPriceInBNB * bnbPrice;

    // Mostrar en pantalla
    document.getElementById("price-bnb").innerText =
      tokenPriceInBNB.toFixed(8) + " BNB";

    document.getElementById("price-usdt").innerText =
      "$" + tokenPriceInUSDT.toFixed(6);

  } catch (error) {
    console.error("Error leyendo precio:", error);
  }
}

// Ejecutar
getTokenPrice();
setInterval(getTokenPrice, 10000);

function formatCompact(number) {

  if (!number || isNaN(number)) return "$0";

  if (number >= 1_000_000_000)
    return "$" + (number / 1_000).toFixed(2) + "B";

  if (number >= 1_000_000)
    return "$" + (number / 1_000_000).toFixed(2) + "M";

  if (number >= 1_000)
    return "$" + (number / 1_000).toFixed(2) + "K";

  return "$" + number.toFixed(2);
}


const TOKEN_ABI = [
  "function totalSupply() view returns (uint256)",
  "function decimals() view returns (uint8)"
];
async function loadStats() {

  try {

    const token = new ethers.Contract(TOKEN_ADDRESS, TOKEN_ABI, provider);
    const pair = new ethers.Contract(TOKEN_WBNB_PAIR, pairAbi, provider);

    // ===== TOKEN DATA =====
    const totalSupplyRaw = await token.totalSupply();
    const decimals = await token.decimals();
    const totalSupply = totalSupplyRaw / (10 ** decimals);

    // ===== PRICE =====
    const [reserve0, reserve1] = await pair.getReserves();
    const token0 = await pair.token0();

    let tokenPriceInBNB;

    if (token0.toLowerCase() === TOKEN_ADDRESS.toLowerCase()) {
      tokenPriceInBNB = reserve1 / reserve0;
    } else {
      tokenPriceInBNB = reserve0 / reserve1;
    }

    const bnbPrice = await getBNBPriceInUSDT();
    const tokenPriceInUSDT = tokenPriceInBNB * bnbPrice;

    // ===== MARKET CAP =====
    const marketCap = totalSupply * tokenPriceInUSDT;

    // ===== LIQUIDITY =====
let liquidityBNBraw;

if (token0.toLowerCase() === TOKEN_ADDRESS.toLowerCase()) {
  liquidityBNBraw = reserve1;
} else {
  liquidityBNBraw = reserve0;
}

// WBNB tiene 18 decimals
const liquidityBNB = Number(
  ethers.utils.formatUnits(liquidityBNBraw, 18)
);
const liquidityUSD = liquidityBNB * bnbPrice * 2;


    // ===== UPDATE UI =====
document.getElementById("marketcap").innerText =
  formatCompact(marketCap);

document.getElementById("liquidity").innerText =
  formatCompact(liquidityUSD);
document.getElementById("volume").innerText =
  formatCompact(vol);
document.getElementById("holders").innerText =
  Number(data.result).toLocaleString();


  } catch (err) {
    console.error("Error cargando stats:", err);
  }
}
async function refreshAll() {
  await getTokenPrice();
  await loadStats();
}

refreshAll();
setInterval(refreshAll, 10000);

</script>



<script>
function showLoader(id) {
  const el = document.getElementById(id);
  const template = document.getElementById("loader-template");

  if (!el || !template) return;

  el.innerHTML = "";
  el.appendChild(template.content.cloneNode(true));
  el.classList.add("loading");
}
showLoader("price-bnb");
showLoader("marketcap");
showLoader("liquidity");

const pairCreatedAt = new Date("2026-02-12T02:38:00").getTime(); 

function updatePairAge() {
    const now = new Date().getTime();
    const diff = now - pairCreatedAt;

    const seconds = Math.floor(diff / 1000);
    const days = Math.floor(seconds / 86400);
    const hours = Math.floor((seconds % 86400) / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);

    let display = "";

    if (days > 0) {
        display = `${days} Days`;
    } 

    document.getElementById("pair-age").innerText = display;
}


setInterval(updatePairAge, 1000);
updatePairAge();



  
</script>







<script>
function copyContract() {
  const address = document
    .getElementById("contract")
    .getAttribute("data-address");

  navigator.clipboard.writeText(address).then(() => {
    const toast = document.getElementById("copy-toast");
    toast.classList.add("show");

    setTimeout(() => {
      toast.classList.remove("show");
    }, 2500);
  });
}
</script>

<script>
function isMobile() {
  return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function closeModal() {
  document.getElementById("metamaskModal").style.display = "none";
}

function showToast(message) {
  const toast = document.getElementById("toast");
  const msg = toast.querySelector(".toast-message");

  msg.textContent = message;

  toast.classList.add("show");

  setTimeout(() => {
    toast.classList.remove("show");
  }, 2500);
}



async function checkIfTokenAdded() {
  if (!window.ethereum) return;

  const tokenAddress = "0x4E11b900c94b2ab9155330B2052827Ab74d183c5".toLowerCase();
  const button = document.getElementById("addMetaMask");

  try {
    const accounts = await window.ethereum.request({ method: "eth_accounts" });
    if (!accounts.length) return;

    const balance = await window.ethereum.request({
      method: "eth_call",
      params: [{
        to: tokenAddress,
        data: "0x70a08231000000000000000000000000" + accounts[0].substring(2)
      }, "latest"]
    });

    if (parseInt(balance, 16) > 0) {
      button.classList.add("added");
      button.innerHTML = "‚úÖ Token Added";
    }

  } catch (error) {
    console.log("No se pudo verificar token");
  }
}

async function addToMetaMask() {

  const tokenAddress = "0x4E11b900c94b2ab9155330B2052827Ab74d183c5";
  const tokenSymbol = "DAB";
  const tokenDecimals = 18;
  const tokenImage = "https://tusitio.com/logo.png";

  const button = document.getElementById("addMetaMask");

  if (window.ethereum) {
    try {

      await window.ethereum.request({ method: "eth_requestAccounts" });

      const wasAdded = await window.ethereum.request({
        method: "wallet_watchAsset",
        params: {
          type: "ERC20",
          options: {
            address: tokenAddress,
            symbol: tokenSymbol,
            decimals: tokenDecimals,
            image: tokenImage,
          },
        },
      });

      if (wasAdded) {
        button.classList.add("added");
        showToast("DAB added to MetaMask", "success");

      }

    } catch (error) {
      console.log("Error adding token:", error);
    }

  } else {

    if (isMobile()) {
      const currentUrl = window.location.href.replace(/^https?:\/\//, '');
      window.location.href = `https://metamask.app.link/dapp/${currentUrl}`;
      return;
    }

    document.getElementById("metamaskModal").style.display = "flex";
  }
}


/* Verificar autom√°ticamente al cargar */
window.addEventListener("load", checkIfTokenAdded);
</script>


    

<div id="copy-toast" class="copy-toast">
    <span class="toast-icon">‚úî </span>
  <span class="toast-message">Contract copied!</span>
  
</div>
<div id="toast" class="copy-toast">
  <span class="toast-icon">‚úî</span>
  <span class="toast-message"></span>
</div>

<!-- GAMESWAP SCRIPT -->
<script>
// GameSwap Configuration
const DBN = "0x2fD13338f4e9485fC33Be4DE53F4f6ff536811cD";
const DAB = "0xc6Bb7959AC8113F03034C0996291B303482D1a00";
const SWAP = "0x6DacE109E382f2fF407BB2974BD0BC88eDACB5BD";

// Token Configurations
const TOKENS = {
  USDT: {
    address: "0x55d398326f99059ff775485246999027b3197955",
    decimals: 18,
    symbol: "USDT",
    name: "Tether USD",
    color: "linear-gradient(135deg, #26a17b, #2eb872)"
  },
  DBN: {
    address: DBN,
    decimals: 18,
    symbol: "DBN",
    name: "DABOIN",
    color: "linear-gradient(135deg, #00c6ff, #0072ff)"
  },
  DAB: {
    address: DAB,
    decimals: 18,
    symbol: "DAB",
    name: "DAB Token",
    color: "linear-gradient(135deg, #ff6b6b, #ee5a24)"
  }
};

// GameSwap Router ABI (Standard DEX Router)
const GAMESWAP_ABI = [
  "function getAmountsOut(uint amountIn, address[] calldata path) external view returns (uint[] memory amounts)",
  "function swapExactTokensForTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external returns (uint[] memory amounts)",
  "function swapExactTokensForTokensSupportingFeeOnTransferTokens(uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline) external",
  "function WETH() external pure returns (address)",
  "function factory() external pure returns (address)"
];

const ERC20_ABI = [
  "function balanceOf(address account) external view returns (uint256)",
  "function decimals() external view returns (uint8)",
  "function symbol() external view returns (string)",
  "function approve(address spender, uint256 amount) external returns (bool)",
  "function allowance(address owner, address spender) external view returns (uint256)",
  "function totalSupply() external view returns (uint256)"
];

// State
let currentAccount = null;
let signer = null;
let web3Provider = null;
let currentMode = 'buy'; // 'buy' or 'convert'
let convertDirection = 'dbnToDab'; // 'dbnToDab' or 'dabToDbn'
let slippage = 0.5;
let tokenPrices = {
  dbn: 0,
  dab: 0
};

// Initialize
async function initSwap() {
  if (window.ethereum) {
    web3Provider = new ethers.providers.Web3Provider(window.ethereum);
    
    // Check if already connected
    const accounts = await window.ethereum.request({ method: 'eth_accounts' });
    if (accounts.length > 0) {
      await connectWallet();
    }
    
    // Listen for account changes
    window.ethereum.on('accountsChanged', (accounts) => {
      if (accounts.length === 0) {
        disconnectWallet();
      } else {
        currentAccount = accounts[0];
        updateWalletDisplay();
        loadBalances();
      }
    });
    
    // Listen for chain changes
    window.ethereum.on('chainChanged', () => {
      window.location.reload();
    });
  }
}

async function connectWallet() {
  if (!window.ethereum) {
    showError("Please install MetaMask to use this feature");
    return;
  }
  
  try {
    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
    currentAccount = accounts[0];
    web3Provider = new ethers.providers.Web3Provider(window.ethereum);
    signer = web3Provider.getSigner();
    
    // Check if on BSC
    const network = await web3Provider.getNetwork();
    if (network.chainId !== 56) {
      try {
        await window.ethereum.request({
          method: 'wallet_switchEthereumChain',
          params: [{ chainId: '0x38' }], // BSC Mainnet
        });
      } catch (switchError) {
        if (switchError.code === 4902) {
          await window.ethereum.request({
            method: 'wallet_addEthereumChain',
            params: [{
              chainId: '0x38',
              chainName: 'Binance Smart Chain',
              nativeCurrency: {
                name: 'BNB',
                symbol: 'bnb',
                decimals: 18
              },
              rpcUrls: ['https://bsc-dataseed.binance.org/'],
              blockExplorerUrls: ['https://bscscan.com']
            }]
          });
        }
      }
    }
    
    showSwapInterface();
    updateWalletDisplay();
    await loadBalances();
    await loadPrices();
    
  } catch (error) {
    console.error("Connection error:", error);
    showError("Failed to connect wallet");
  }
}

function disconnectWallet() {
  currentAccount = null;
  signer = null;
  document.getElementById('walletConnect').style.display = 'block';
  document.getElementById('swapInterface').classList.remove('active');
}

function showSwapInterface() {
  document.getElementById('walletConnect').style.display = 'none';
  document.getElementById('swapInterface').classList.add('active');
}

function updateWalletDisplay() {
  if (currentAccount) {
    const shortAddress = currentAccount.substring(0, 6) + '...' + currentAccount.substring(currentAccount.length - 4);
    document.getElementById('connectedAddress').textContent = shortAddress;
  }
}

async function loadBalances() {
  if (!currentAccount || !web3Provider) return;
  
  try {
    // Load USDT Balance
    const usdtContract = new ethers.Contract(TOKENS.USDT.address, ERC20_ABI, web3Provider);
    const usdtBalance = await usdtContract.balanceOf(currentAccount);
    document.getElementById('usdtBalance').textContent = parseFloat(ethers.utils.formatUnits(usdtBalance, 18)).toFixed(2);
    
    // Load DBN Balance
    const dbnContract = new ethers.Contract(DBN, ERC20_ABI, web3Provider);
    const dbnBalance = await dbnContract.balanceOf(currentAccount);
    document.getElementById('dbnBalance').textContent = parseFloat(ethers.utils.formatUnits(dbnBalance, 18)).toFixed(2);
    
    // Load DAB Balance
    const dabContract = new ethers.Contract(DAB, ERC20_ABI, web3Provider);
    const dabBalance = await dabContract.balanceOf(currentAccount);
    
    // Update convert panel balances
    updateConvertBalances(dabBalance, dbnBalance);
    
  } catch (error) {
    console.error("Error loading balances:", error);
  }
}

function updateConvertBalances(dabBalance, dbnBalance) {
  const dbnFormatted = parseFloat(ethers.utils.formatUnits(dbnBalance || 0, 18)).toFixed(2);
  const dabFormatted = parseFloat(ethers.utils.formatUnits(dabBalance || 0, 18)).toFixed(2);
  
  if (convertDirection === 'dbnToDab') {
    document.getElementById('fromTokenBalance').textContent = dbnFormatted;
    document.getElementById('toTokenBalance').textContent = dabFormatted;
  } else {
    document.getElementById('fromTokenBalance').textContent = dabFormatted;
    document.getElementById('toTokenBalance').textContent = dbnFormatted;
  }
}

async function loadPrices() {
  try {
    // Get prices from GameSwap
    const gameswap = new ethers.Contract(SWAP, GAMESWAP_ABI, web3Provider || provider);
    
    // Try to get DBN price via USDT
    try {
      const amountIn = ethers.utils.parseUnits("1", 18);
      const path = [TOKENS.USDT.address, DBN];
      const amounts = await gameswap.getAmountsOut(amountIn, path);
      tokenPrices.dbn = parseFloat(ethers.utils.formatUnits(amounts[1], 18));
    } catch (e) {
      console.log("Could not get DBN price from GameSwap");
      tokenPrices.dbn = 0;
    }
    
    // Try to get DAB price via USDT
    try {
      const amountIn = ethers.utils.parseUnits("1", 18);
      const path = [TOKENS.USDT.address, DAB];
      const amounts = await gameswap.getAmountsOut(amountIn, path);
      tokenPrices.dab = parseFloat(ethers.utils.formatUnits(amounts[1], 18));
    } catch (e) {
      console.log("Could not get DAB price from GameSwap");
      tokenPrices.dab = 0;
    }
    
  } catch (error) {
    console.error("Error loading prices:", error);
  }
}

function setSwapMode(mode) {
  currentMode = mode;
  
  // Update tabs
  document.querySelectorAll('.swap-tab').forEach(tab => tab.classList.remove('active'));
  event.target.classList.add('active');
  
  // Show/hide panels
  if (mode === 'buy') {
    document.getElementById('buyPanel').style.display = 'block';
    document.getElementById('convertPanel').style.display = 'none';
  } else {
    document.getElementById('buyPanel').style.display = 'none';
    document.getElementById('convertPanel').style.display = 'block';
  }
  
  clearInputs();
  updateExchangeRate();
}

function setSlippage(value) {
  slippage = value;
  document.querySelectorAll('.slippage-btn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
  calculateOutput();
}

function toggleConvertDirection() {
  convertDirection = convertDirection === 'dbnToDab' ? 'dabToDbn' : 'dbnToDab';
  
  // Update UI
  const fromIcon = document.getElementById('fromTokenIcon');
  const fromSym = document.getElementById('fromTokenSym');
  const toIcon = document.getElementById('toTokenIcon');
  const toSym = document.getElementById('toTokenSym');
  const fromTokenSymbol = document.getElementById('fromTokenSymbol');
  const toTokenSymbol = document.getElementById('toTokenSymbol');
  
  if (convertDirection === 'dbnToDab') {
    fromIcon.textContent = 'DBN';
    fromIcon.style.background = TOKENS.DBN.color;
    fromSym.textContent = 'DBN';
    toIcon.textContent = 'DAB';
    toIcon.style.background = TOKENS.DAB.color;
    toSym.textContent = 'DAB';
    fromTokenSymbol.textContent = 'DBN';
    toTokenSymbol.textContent = 'DAB';
  } else {
    fromIcon.textContent = 'DAB';
    fromIcon.style.background = TOKENS.DAB.color;
    fromSym.textContent = 'DAB';
    toIcon.textContent = 'DBN';
    toIcon.style.background = TOKENS.DBN.color;
    toSym.textContent = 'DBN';
    fromTokenSymbol.textContent = 'DAB';
    toTokenSymbol.textContent = 'DBN';
  }
  
  loadBalances();
  calculateConvertOutput();
}

async function calculateOutput() {
  const input = parseFloat(document.getElementById('usdtAmount').value) || 0;
  
  if (input > 0) {
    try {
      const gameswap = new ethers.Contract(SWAP, GAMESWAP_ABI, web3Provider || provider);
      const amountIn = ethers.utils.parseUnits(input.toString(), 18);
      const path = [TOKENS.USDT.address, DBN];
      
      const amounts = await gameswap.getAmountsOut(amountIn, path);
      const output = parseFloat(ethers.utils.formatUnits(amounts[1], 18));
      
      document.getElementById('dbnOutput').value = output.toFixed(6);
      
      // Calculate minimum received with slippage
      const minReceived = output * (1 - slippage / 100);
      document.getElementById('minReceived').textContent = minReceived.toFixed(6) + ' DBN';
      
      // Update exchange rate
      const rate = output / input;
      document.getElementById('exchangeRate').textContent = `1 USDT ‚âà ${rate.toFixed(2)} DBN`;
      
      // Update button
      document.getElementById('swapActionBtn').textContent = 'Swap via GameSwap';
      document.getElementById('swapActionBtn').disabled = false;
      
      // Check allowance
      checkAllowance(TOKENS.USDT.address, input);
    } catch (error) {
      console.error("Error calculating output:", error);
      document.getElementById('dbnOutput').value = '';
      document.getElementById('swapActionBtn').textContent = 'Insufficient liquidity';
      document.getElementById('swapActionBtn').disabled = true;
    }
  } else {
    document.getElementById('dbnOutput').value = '';
    document.getElementById('minReceived').textContent = '0 DBN';
    document.getElementById('swapActionBtn').textContent = 'Enter an amount';
    document.getElementById('swapActionBtn').disabled = true;
  }
}

async function calculateConvertOutput() {
  const input = parseFloat(document.getElementById('convertAmount').value) || 0;
  
  if (input > 0) {
    try {
      const gameswap = new ethers.Contract(SWAP, GAMESWAP_ABI, web3Provider || provider);
      const amountIn = ethers.utils.parseUnits(input.toString(), 18);
      
      let path;
      if (convertDirection === 'dbnToDab') {
        path = [DBN, DAB];
      } else {
        path = [DAB, DBN];
      }
      
      const amounts = await gameswap.getAmountsOut(amountIn, path);
      const output = parseFloat(ethers.utils.formatUnits(amounts[1], 18));
      
      document.getElementById('convertOutput').value = output.toFixed(6);
      
      const minReceived = output * (1 - slippage / 100);
      const toSymbol = convertDirection === 'dbnToDab' ? 'DAB' : 'DBN';
      document.getElementById('minReceived').textContent = minReceived.toFixed(6) + ' ' + toSymbol;
      
      const rate = output / input;
      document.getElementById('exchangeRate').textContent = `1 ${convertDirection === 'dbnToDab' ? 'DBN' : 'DAB'} ‚âà ${rate.toFixed(2)} ${toSymbol}`;
      
      document.getElementById('swapActionBtn').textContent = 'Convert via GameSwap';
      document.getElementById('swapActionBtn').disabled = false;
      
      const tokenAddress = convertDirection === 'dbnToDab' ? DBN : DAB;
      checkAllowance(tokenAddress, input);
    } catch (error) {
      console.error("Error calculating convert output:", error);
      document.getElementById('convertOutput').value = '';
      document.getElementById('swapActionBtn').textContent = 'Insufficient liquidity';
      document.getElementById('swapActionBtn').disabled = true;
    }
  } else {
    document.getElementById('convertOutput').value = '';
    const toSymbol = convertDirection === 'dbnToDab' ? 'DAB' : 'DBN';
    document.getElementById('minReceived').textContent = '0 ' + toSymbol;
    document.getElementById('swapActionBtn').textContent = 'Enter an amount';
    document.getElementById('swapActionBtn').disabled = true;
  }
}

async function checkAllowance(tokenAddress, amount) {
  if (!signer || !currentAccount) return;
  
  try {
    const tokenContract = new ethers.Contract(tokenAddress, ERC20_ABI, signer);
    const allowance = await tokenContract.allowance(currentAccount, SWAP);
    const amountWei = ethers.utils.parseUnits(amount.toString(), 18);
    
    if (allowance.lt(amountWei)) {
      document.getElementById('approvalSection').classList.add('active');
      document.getElementById('swapActionBtn').style.display = 'none';
    } else {
      document.getElementById('approvalSection').classList.remove('active');
      document.getElementById('swapActionBtn').style.display = 'block';
    }
  } catch (error) {
    console.error("Error checking allowance:", error);
  }
}

async function approveToken() {
  if (!signer) return;
  
  const button = event.target;
  button.textContent = 'Approving...';
  button.disabled = true;
  
  try {
    let tokenAddress;
    if (currentMode === 'buy') {
      tokenAddress = TOKENS.USDT.address;
    } else {
      tokenAddress = convertDirection === 'dbnToDab' ? DBN : DAB;
    }
    
    const tokenContract = new ethers.Contract(tokenAddress, ERC20_ABI, signer);
    const tx = await tokenContract.approve(SWAP, ethers.constants.MaxUint256);
    
    await tx.wait();
    
    document.getElementById('approvalSection').classList.remove('active');
    document.getElementById('swapActionBtn').style.display = 'block';
    showError("Token approved successfully!", "success");
    
  } catch (error) {
    console.error("Approval error:", error);
    showError("Approval failed: " + error.message);
  } finally {
    button.textContent = 'Approve Token';
    button.disabled = false;
  }
}

async function executeSwap() {
  if (!signer || !currentAccount) return;
  
  document.getElementById('swapInterface').classList.remove('active');
  document.getElementById('swapLoading').classList.add('active');
  
  try {
    const gameswap = new ethers.Contract(SWAP, GAMESWAP_ABI, signer);
    const deadline = Math.floor(Date.now() / 1000) + 60 * 20; // 20 minutes
    
    let tx;
    
    if (currentMode === 'buy') {
      // Buy DBN with USDT
      const amountIn = ethers.utils.parseUnits(document.getElementById('usdtAmount').value, 18);
      const output = parseFloat(document.getElementById('dbnOutput').value);
      const amountOutMin = ethers.utils.parseUnits(
        (output * (1 - slippage / 100)).toString(),
        18
      );
      
      const path = [TOKENS.USDT.address, DBN];
      
      tx = await gameswap.swapExactTokensForTokensSupportingFeeOnTransferTokens(
        amountIn,
        amountOutMin,
        path,
        currentAccount,
        deadline
      );
    } else {
      // Convert DBN ‚Üî DAB
      const amountIn = ethers.utils.parseUnits(document.getElementById('convertAmount').value, 18);
      const output = parseFloat(document.getElementById('convertOutput').value);
      const amountOutMin = ethers.utils.parseUnits(
        (output * (1 - slippage / 100)).toString(),
        18
      );
      
      let path;
      if (convertDirection === 'dbnToDab') {
        path = [DBN, DAB];
      } else {
        path = [DAB, DBN];
      }
      
      tx = await gameswap.swapExactTokensForTokensSupportingFeeOnTransferTokens(
        amountIn,
        amountOutMin,
        path,
        currentAccount,
        deadline
      );
    }
    
    const receipt = await tx.wait();
    
    showSuccess(receipt.transactionHash);
    await loadBalances();
    
  } catch (error) {
    console.error("Swap error:", error);
    document.getElementById('swapLoading').classList.remove('active');
    document.getElementById('swapInterface').classList.add('active');
    showError("Swap failed: " + (error.reason || error.message));
  }
}

function showSuccess(txHash) {
  document.getElementById('swapLoading').classList.remove('active');
  document.getElementById('txSuccess').classList.add('active');
  
  const shortHash = txHash.substring(0, 10) + '...' + txHash.substring(txHash.length - 8);
  document.getElementById('txHash').textContent = shortHash;
  document.getElementById('viewTxLink').href = `https://bscscan.com/tx/${txHash}`;
}

function resetSwap() {
  document.getElementById('txSuccess').classList.remove('active');
  document.getElementById('swapInterface').classList.add('active');
  clearInputs();
}

function clearInputs() {
  document.getElementById('usdtAmount').value = '';
  document.getElementById('dbnOutput').value = '';
  document.getElementById('convertAmount').value = '';
  document.getElementById('convertOutput').value = '';
  document.getElementById('swapActionBtn').textContent = 'Enter an amount';
  document.getElementById('swapActionBtn').disabled = true;
  document.getElementById('approvalSection').classList.remove('active');
  document.getElementById('swapActionBtn').style.display = 'block';
  hideError();
}

function showError(message, type = 'error') {
  const errorDiv = document.getElementById('errorMessage');
  errorDiv.textContent = message;
  errorDiv.classList.add('active');
  
  if (type === 'success') {
    errorDiv.style.background = 'rgba(0, 255, 136, 0.1)';
    errorDiv.style.borderColor = 'rgba(0, 255, 136, 0.3)';
    errorDiv.style.color = '#00ff88';
  } else {
    errorDiv.style.background = 'rgba(255, 71, 87, 0.1)';
    errorDiv.style.borderColor = 'rgba(255, 71, 87, 0.3)';
    errorDiv.style.color = '#ff4757';
  }
  
  setTimeout(() => {
    hideError();
  }, 5000);
}

function hideError() {
  document.getElementById('errorMessage').classList.remove('active');
}

function switchTokens() {
  // For buy panel, switching means selling DBN for USDT
  showError("Sell functionality coming soon! Use GameSwap directly for now.");
}

function updateExchangeRate() {
  if (currentMode === 'buy') {
    document.getElementById('exchangeRate').textContent = '1 USDT ‚âà 0 DBN';
  } else {
    const rate = convertDirection === 'dbnToDab' ? '1 DBN ‚âà 0 DAB' : '1 DAB ‚âà 0 DBN';
    document.getElementById('exchangeRate').textContent = rate;
  }
}

// Initialize on load
window.addEventListener('load', initSwap);
</script>

</body>
    </html>
